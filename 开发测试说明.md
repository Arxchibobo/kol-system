# KOL 系统 - 开发测试脚本说明

## 📦 一键启动脚本

为了方便快速测试,项目提供了三个批处理脚本:

### 1. `start-dev.bat` - 完整启动 (推荐)

**用途**: 每次修改代码后,双击此脚本即可完整启动项目

**执行步骤**:
1. ✅ 自动清理旧的服务器进程
2. ✅ 重新构建前端代码 (npm run build)
3. ✅ 启动后端服务器 (端口 8080)
4. ✅ 检查服务器是否启动成功
5. ✅ 自动打开浏览器访问 http://localhost:8080

**使用方法**:
```bash
双击 start-dev.bat
```

---

### 2. `restart-dev.bat` - 快速重启

**用途**: 如果只修改了后端代码,不需要重新构建前端

**执行步骤**:
1. ✅ 停止旧服务器
2. ✅ 启动新服务器
3. ✅ 打开浏览器

**使用方法**:
```bash
双击 restart-dev.bat
```

---

### 3. `stop-dev.bat` - 停止服务器

**用途**: 停止后台运行的服务器进程

**使用方法**:
```bash
双击 stop-dev.bat
```

---

## 🔧 手动启动方法

如果需要手动启动或调试:

### 构建前端
```bash
npm run build
```

### 启动后端服务器
```bash
npm start
```

### 访问应用
- 前端地址: http://localhost:8080
- 后端 API: http://localhost:8080/api/*

---

## 📝 日志文件

- `server.log` - 服务器运行日志 (由 start-dev.bat 和 restart-dev.bat 创建)

---

## 🎯 开发流程建议

1. **修改代码** - 编辑 components、backend 等文件
2. **启动测试** - 双击 `start-dev.bat`
3. **浏览器测试** - 浏览器会自动打开,进行功能测试
4. **停止服务器** - 测试完成后双击 `stop-dev.bat`

**小提示**:
- 如果只改了后端代码,可以用 `restart-dev.bat` 快速重启
- 如果改了前端代码,必须用 `start-dev.bat` 重新构建
- 服务器日志会保存在 `server.log` 文件中

---

## ❓ 常见问题

### 问题 1: 端口被占用
**现象**: 启动失败,提示 "address already in use"
**解决**: 双击 `stop-dev.bat` 停止旧进程,然后重新启动

### 问题 2: 浏览器显示空白页
**现象**: 页面空白或显示错误
**解决**:
1. 检查 `server.log` 查看错误信息
2. 确保前端构建成功 (dist 目录存在)
3. 刷新浏览器 (Ctrl+F5 强制刷新)

### 问题 3: 前端构建失败
**现象**: start-dev.bat 提示构建失败
**解决**:
1. 检查 TypeScript 语法错误
2. 确保所有依赖已安装 (npm install)
3. 查看构建输出的错误信息

---

## 📚 技术栈

- **前端**: React 19 + TypeScript + Vite + TailwindCSS
- **后端**: Node.js + Express + TypeScript
- **数据库**: SQLite (sql.js)
- **端口**: 8080

---

祝开发顺利! 🚀
